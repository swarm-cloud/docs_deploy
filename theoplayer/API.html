<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-theoplayer docs-doc-id-API" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.3">
<title data-rh="true">API &amp; Config | SwarmCloud Docs</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://www.swarmcloud.net/home/logo/logo.webp"><meta data-rh="true" name="twitter:image" content="https://www.swarmcloud.net/home/logo/logo.webp"><meta data-rh="true" property="og:url" content="https://www.swarmcloud.net/home/theoplayer/API"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="keywords" content="swarmcloud, cdnbye, peer5, streamroot, p2p, webrtc, hls, m3u8, mp4, dplayer, videojs, clappr, web p2p, android p2p, ios p2p, vod, live, video"><meta data-rh="true" name="cryptomus" content="4385600b"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-theoplayer-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-theoplayer-current"><meta data-rh="true" property="og:title" content="API &amp; Config | SwarmCloud Docs"><meta data-rh="true" name="description" content="Create instance"><meta data-rh="true" property="og:description" content="Create instance"><link data-rh="true" rel="icon" href="/home/favicon.ico"><link data-rh="true" rel="canonical" href="https://www.swarmcloud.net/home/theoplayer/API"><link data-rh="true" rel="alternate" href="https://www.swarmcloud.net/home/theoplayer/API" hreflang="en"><link data-rh="true" rel="alternate" href="https://www.swarmcloud.net/home/theoplayer/API" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://XECAYCM7G7-dsn.algolia.net" crossorigin="anonymous"><link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=AW-10834653519"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","AW-10834653519",{})</script>


<link rel="search" type="application/opensearchdescription+xml" title="SwarmCloud Docs" href="/home/opensearch.xml"><link rel="stylesheet" href="/home/assets/css/styles.9b5c9c1f.css">
<link rel="preload" href="/home/assets/js/runtime~main.053b99cf.js" as="script">
<link rel="preload" href="/home/assets/js/main.f99e750f.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"dark")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/home/"><div class="navbar__logo"><img src="/home/img/logo.webp" alt="SwarmCloud Docs" class="themedImage_ToTc themedImage--light_HNdA" height="32px" width="32px"><img src="/home/img/logo.webp" alt="SwarmCloud Docs" class="themedImage_ToTc themedImage--dark_i4oU" height="32px" width="32px"></div></a><a class="navbar__item navbar__link guides-top-header" href="/home/guides/getting-started">Guides</a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link dyte-dropdown">SDKs</a><ul class="dropdown__menu"><li class="dyte-dropdown"><script>function showMenu(o){document.body.classList.remove("web","mobile","desktop","plugin"),document.body.classList.add(o)}window.showMenu=showMenu</script>
<div class="sdks-dropdown flex max-w-lg flex-col rounded-2xl lg:min-w-[768px]">
  <div class="flex flex-col bg-secondary-800 p-4 lg:min-h-[300px] lg:flex-row">
    <div class="flex flex-1 flex-col gap-8 rounded-xl bg-secondary-1000 p-6">
      <a data-dropdown-sdks-menu="web" onfocus='document.body.setAttribute("data-sdk-menu","web")' onmouseover='document.body.setAttribute("data-sdk-menu","web")' class="flex cursor-pointer items-start justify-start gap-2 border-none bg-transparent text-black dark:text-white">
        <div class="flex-shrink-0">
          <img src="/home/static/landing-page/sdk-icons/resources/web.svg" class="h-6 w-6">
        </div>
        <div class="flex flex-col items-start justify-start gap-1">
          <div class="text-base font-semibold">Web</div>
          <p class="mb-0 text-left text-sm text-text-400">
            SDK for Web Browser and Electron
          </p>
        </div>
      </a>
      <a data-dropdown-sdks-menu="mobile" onfocus='document.body.setAttribute("data-sdk-menu","mobile")' onmouseover='document.body.setAttribute("data-sdk-menu","mobile")' class="flex cursor-pointer items-start justify-start gap-2 border-none bg-transparent text-black dark:text-white">
        <div class="flex-shrink-0">
          <img src="/home/static/landing-page/sdk-icons/resources/mobile.svg" class="h-6 w-6">
        </div>
        <div class="flex flex-col items-start justify-start gap-1">
          <div class="text-base font-semibold">Mobile</div>
          <p class="mb-0 text-left text-sm text-text-400">
            SDK for Mobile and TV platform
          </p>
        </div>
      </a>
    </div>
    <div class="flex-1 pl-6">
      <div class="flex flex-col gap-2" data-dropdown-sdks="web">
        <div class="flex flex-1 flex-col">
          <ul class="sdk-ul">
            <li>
              <a href="/home/web-hls" class="sdk-link">
                <img src="/home/static/landing-page/sdk-icons/js.png">
                Hls.js Built-in Players
              </a>
              <a href="/home/vhs" class="sdk-link">
                <img src="/home/static/landing-page/sdk-icons/js.png">
                Video.js(vhs)
              </a>
              <a href="/home/shaka" class="sdk-link">
                <img src="/home/static/landing-page/sdk-icons/js.png">
                Shaka-Player
              </a>
              <a href="/home/media" class="sdk-link">
                <img src="/home/static/landing-page/sdk-icons/js.png">
                MP4/MP3
              </a>
              <a href="/home/dashjs" class="sdk-link">
                <img src="/home/static/landing-page/sdk-icons/js.png">
                Dash.js
              </a>
              <a href="/home/rx-player" class="sdk-link">
                <img src="/home/static/landing-page/sdk-icons/js.png">
                RxPlayer
              </a>
              <a href="/home/bitmovin" class="sdk-link">
                <img src="/home/static/landing-page/sdk-icons/js.png">
                Bitmovin-Player
              </a>
              <a href="/home/theoplayer" class="sdk-link">
                <img src="/home/static/landing-page/sdk-icons/js.png">
                THEOplayer
              </a>
<!--              <a href="/home/download" class="sdk-link">-->
<!--                <img src="/home/static/landing-page/sdk-icons/js.png" />-->
<!--                File Downloader-->
<!--              </a>-->
            </li>
          </ul>
        </div>
      </div>

      <div class="flex flex-col gap-2" data-dropdown-sdks="mobile">
        <div class="flex w-full gap-2">
          <div class="flex-1">
            <ul class="list-none pl-0">
              <li>
                <a href="/home/android" class="sdk-link">
                  <img src="/home/static/landing-page/sdk-icons/kotlin.png">
                  Android
                </a>
              </li>
              <li>
                <a href="/home/flutter" class="sdk-link">
                  <img src="/home/static/landing-page/sdk-icons/flutter.png">
                  Flutter
                </a>
              </li>
              <li>
                <a href="/home/rn" class="sdk-link">
                  <img src="/home/static/landing-page/sdk-icons/react.png">
                  React Native
                </a>
              </li>
              <li>
                <a href="/home/ios" class="sdk-link">
                  <img src="/home/static/landing-page/sdk-icons/swift.png">
                  iOS/tvOS/macOS
                </a>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
</li></ul></div><a class="navbar__item navbar__link" href="/home/faq">FAQ</a><a class="navbar__item navbar__link" href="/home/pricing">Pricing</a></div><div class="navbar__items navbar__items--right"><div class="searchBox_ZlJk"><div class="relative flex items-center gap-2"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div><div class="navbar__item dev-portal-signup dev-portal-link cursor"><span onclick='window.open(`https://meshify-cloud.github.io/redirect/#/signup?source=${new URLSearchParams(window.location.search).get("utm_source")||location.host}`,"_blank")'>Sign Up</span></div><a href="https://demo.swarmcloud.net/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Demo<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://github.com/swarm-cloud" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>English</a><ul class="dropdown__menu"><li><a href="/home/theoplayer/API" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="en">English</a></li><li><a href="https://www.cdnbye.com" target="_blank" rel="noopener noreferrer" class="dropdown__link">中文<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently dark mode)" aria-label="Switch between dark and light mode (currently dark mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_mhZE"><div class="sidebar-menu multiSectionContainer_bYm7"><div class="section_olD1 sectionActive_D9yk" tabindex="0"><div class="label_WInT">Web SDK</div><div><div class="row_KvCx"><button type="button" role="combobox" aria-controls="" aria-expanded="false" aria-autocomplete="none" aria-label="Select Section" class="sections-menu-trigger"><span style="pointer-events:none"></span><span aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="sections-menu-scrollButton"><polyline points="6 9 12 15 18 9"></polyline></svg></span></button><select aria-hidden="true" tabindex="-1" style="position:absolute;border:0;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;word-wrap:normal"></select></div></div></div></div><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/home/theoplayer/introduction">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/home/theoplayer">Usage</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/home/theoplayer/API">API &amp; Config</a></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/home/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">API &amp; Config</span><meta itemprop="position" content="1"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>API &amp; Config</h1></header><h2 class="anchor anchorWithStickyNavbar_LWe7" id="create-instance">Create instance<a href="#create-instance" class="hash-link" aria-label="Direct link to Create instance" title="Direct link to Create instance">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="var-engine--new-p2penginetheop2pconfig-opts">var engine = new P2pEngineTheo({p2pConfig: <!-- -->[opts]<!-- -->});<a href="#var-engine--new-p2penginetheop2pconfig-opts" class="hash-link" aria-label="Direct link to var-engine--new-p2penginetheop2pconfig-opts" title="Direct link to var-engine--new-p2penginetheop2pconfig-opts">​</a></h3><p>Create a new <strong><em>P2pEngineTheo</em></strong> instance .</p><p>If <strong><em>opts</em></strong> is specified, then the default options (shown below) will be overridden.</p><table><thead><tr><th align="center">Field</th><th align="center">Type</th><th align="center">Default</th><th align="center">Description</th></tr></thead><tbody><tr><td align="center">logLevel</td><td align="center">string<!-- -->|<!-- -->boolean</td><td align="center">&#x27;error&#x27;</td><td align="center">Print log level(warn, error, none, false=none, true=warn).</td></tr><tr><td align="center">token</td><td align="center">string</td><td align="center">undefined</td><td align="center">Token is used to summarize and display multi domain name data on the console. In addition, token is required while customizing channelId.</td></tr><tr><td align="center">trackerZone</td><td align="center">string</td><td align="center">&#x27;eu&#x27;</td><td align="center">The country code name of the tracker server address(&#x27;eu&#x27;, &#x27;hk&#x27;, &#x27;us&#x27;).</td></tr><tr><td align="center">memoryCacheLimit</td><td align="center">Object</td><td align="center">{&quot;pc&quot;: 400 <!-- -->*<!-- --> 1024 <!-- -->*<!-- --> 1024, &quot;mobile&quot;: 100 <!-- -->*<!-- --> 1024 <!-- -->*<!-- --> 1024}</td><td align="center">The max size of binary data that can be stored in the cache.</td></tr><tr><td align="center">useDiskCache</td><td align="center">boolean</td><td align="center">true</td><td align="center">Use IndexedDB to cache data for VOD streaming.</td></tr><tr><td align="center">diskCacheLimit</td><td align="center">Object</td><td align="center">{&quot;pc&quot;: 1500 <!-- -->*<!-- --> 1024 <!-- -->*<!-- --> 1024, &quot;mobile&quot;: 1000 <!-- -->*<!-- --> 1024 <!-- -->*<!-- --> 1024}</td><td align="center">The max size of binary data that can be stored in the disk cache.</td></tr><tr><td align="center">p2pEnabled</td><td align="center">boolean</td><td align="center">true</td><td align="center">Enable or disable p2p engine.</td></tr><tr><td align="center">webRTCConfig</td><td align="center">Object</td><td align="center">{}</td><td align="center">A <a href="https://github.com/feross/simple-peer" target="_blank" rel="noopener noreferrer">Configuration dictionary</a> providing options to configure WebRTC connections.</td></tr><tr><td align="center">useHttpRange</td><td align="center">boolean</td><td align="center">true</td><td align="center">Use HTTP ranges requests where it is possible. Allows to continue (and not start over) aborted P2P downloads over HTTP.</td></tr><tr><td align="center">sharePlaylist</td><td align="center">boolean</td><td align="center">false</td><td align="center">Allow the P2P transmission of m3u8 file.</td></tr><tr><td align="center">strictSegmentId</td><td align="center">boolean</td><td align="center">false</td><td align="center">Use segment url based segment id instead of sequence number based one.</td></tr><tr><td align="center">prefetchOnly</td><td align="center">boolean</td><td align="center">false</td><td align="center">Only use prefetch strategy in p2p downloading(Only for HLS).</td></tr><tr><td align="center">startFromSegmentOffset</td><td align="center">number</td><td align="center">3</td><td align="center">The segment offset that start to connect to tracker server.</td></tr></tbody></table><h2 class="anchor anchorWithStickyNavbar_LWe7" id="p2penginetheo-api">P2pEngineTheo API<a href="#p2penginetheo-api" class="hash-link" aria-label="Direct link to P2pEngineTheo API" title="Direct link to P2pEngineTheo API">​</a></h2><h4 class="anchor anchorWithStickyNavbar_LWe7" id="p2penginetheoversion-static-method"><strong><em>P2pEngineTheo.version</em></strong> (static method)<a href="#p2penginetheoversion-static-method" class="hash-link" aria-label="Direct link to p2penginetheoversion-static-method" title="Direct link to p2penginetheoversion-static-method">​</a></h4><p>Get the version of P2pEngineTheo.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="p2penginetheoprotocolversion-static-method"><strong><em>P2pEngineTheo.protocolVersion</em></strong> (static method)<a href="#p2penginetheoprotocolversion-static-method" class="hash-link" aria-label="Direct link to p2penginetheoprotocolversion-static-method" title="Direct link to p2penginetheoprotocolversion-static-method">​</a></h4><p>Get the version of P2P protocol.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="p2penginetheoissupported-static-method"><strong><em>P2pEngineTheo.isSupported()</em></strong> (static method)<a href="#p2penginetheoissupported-static-method" class="hash-link" aria-label="Direct link to p2penginetheoissupported-static-method" title="Direct link to p2penginetheoissupported-static-method">​</a></h4><p>Returns true if WebRTC data channel is supported by the browser.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="engineenablep2p"><strong><em>engine.enableP2P()</em></strong><a href="#engineenablep2p" class="hash-link" aria-label="Direct link to engineenablep2p" title="Direct link to engineenablep2p">​</a></h4><p>Resume P2P if it has been stopped.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="enginedisablep2p"><strong><em>engine.disableP2P()</em></strong><a href="#enginedisablep2p" class="hash-link" aria-label="Direct link to enginedisablep2p" title="Direct link to enginedisablep2p">​</a></h4><p>Disable engine to stop p2p and free used resources.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="enginedestroy"><strong><em>engine.destroy()</em></strong><a href="#enginedestroy" class="hash-link" aria-label="Direct link to enginedestroy" title="Direct link to enginedestroy">​</a></h4><p>Stop p2p and free used resources.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="p2penginetheo-events">P2pEngineTheo Events<a href="#p2penginetheo-events" class="hash-link" aria-label="Direct link to P2pEngineTheo Events" title="Direct link to P2pEngineTheo Events">​</a></h2><h4 class="anchor anchorWithStickyNavbar_LWe7" id="engineonpeerid-function-peerid-"><strong><em>engine.on(&#x27;peerId&#x27;, function (peerId) {})</em></strong><a href="#engineonpeerid-function-peerid-" class="hash-link" aria-label="Direct link to engineonpeerid-function-peerid-" title="Direct link to engineonpeerid-function-peerid-">​</a></h4><p>Emitted when the peer Id of this client is obtained from server.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="engineonpeers-function-peers-"><strong><em>engine.on(&#x27;peers&#x27;, function (peers) {})</em></strong><a href="#engineonpeers-function-peers-" class="hash-link" aria-label="Direct link to engineonpeers-function-peers-" title="Direct link to engineonpeers-function-peers-">​</a></h4><p>Emitted when successfully connected with new peer.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="engineonstats-function-stats-"><strong><em>engine.on(&#x27;stats&#x27;, function (stats) {})</em></strong><a href="#engineonstats-function-stats-" class="hash-link" aria-label="Direct link to engineonstats-function-stats-" title="Direct link to engineonstats-function-stats-">​</a></h4><p>Emitted when data is downloaded/uploaded.<br>
stats.totalHTTPDownloaded: total data downloaded by HTTP(KB).<br>
stats.totalP2PDownloaded: total data downloaded by P2P(KB).<br>
stats.totalP2PUploaded: total data uploaded by P2P(KB).<br>
stats.p2pDownloadSpeed: p2p download speed(KB/s).</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="engineonserverconnected-function-connected-"><strong><em>engine.on(&#x27;serverConnected&#x27;, function (connected) {})</em></strong><a href="#engineonserverconnected-function-connected-" class="hash-link" aria-label="Direct link to engineonserverconnected-function-connected-" title="Direct link to engineonserverconnected-function-connected-">​</a></h3><p>Emitted when websocket is opened/closed.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="engineonexception-function-e-"><strong><em>engine.on(&#x27;exception&#x27;, function (e) {})</em></strong><a href="#engineonexception-function-e-" class="hash-link" aria-label="Direct link to engineonexception-function-e-" title="Direct link to engineonexception-function-e-">​</a></h3><p>Emitted when exception occured.<br>
e.code: Exception identifier（TRACKER_EXPT SIGNAL_EXPT）<br>
e.message: Exception message <br>
e.stack: Exception stack <br></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="get-p2p-information-from-p2pconfig">Get p2p information from p2pConfig<a href="#get-p2p-information-from-p2pconfig" class="hash-link" aria-label="Direct link to Get p2p information from p2pConfig" title="Direct link to Get p2p information from p2pConfig">​</a></h3><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token literal-property property">p2pConfig</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token function-variable function" style="color:rgb(220, 220, 170)">getStats</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(86, 156, 214)">function</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token parameter">totalP2PDownloaded</span><span class="token parameter punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token parameter"> totalP2PUploaded</span><span class="token parameter punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token parameter"> totalHTTPDownloaded</span><span class="token parameter punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token parameter"> p2pDownloadSpeed</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        </span><span class="token comment" style="color:rgb(106, 153, 85)">// get the downloading statistics</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token function-variable function" style="color:rgb(220, 220, 170)">getPeerId</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(86, 156, 214)">function</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token parameter">peerId</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        </span><span class="token comment" style="color:rgb(106, 153, 85)">// get peer Id</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token function-variable function" style="color:rgb(220, 220, 170)">getPeersInfo</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(86, 156, 214)">function</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token parameter">peers</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        </span><span class="token comment" style="color:rgb(106, 153, 85)">// get peers information</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token function-variable function" style="color:rgb(220, 220, 170)">onHttpDownloaded</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(86, 156, 214)">function</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token parameter">traffic</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        </span><span class="token comment" style="color:rgb(106, 153, 85)">// listen to http downloaded traffic</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token function-variable function" style="color:rgb(220, 220, 170)">onP2pDownloaded</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(86, 156, 214)">function</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token parameter">traffic</span><span class="token parameter punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token parameter"> speed</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        </span><span class="token comment" style="color:rgb(106, 153, 85)">// listen to p2p downloaded traffic</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token function-variable function" style="color:rgb(220, 220, 170)">onP2pUploaded</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(86, 156, 214)">function</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token parameter">traffic</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        </span><span class="token comment" style="color:rgb(106, 153, 85)">// listen to p2p uploaded traffic</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p>The unit of download and upload is KB.
The unit of download speed is KB/s.</p></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="advanced-usage">Advanced Usage<a href="#advanced-usage" class="hash-link" aria-label="Direct link to Advanced Usage" title="Direct link to Advanced Usage">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="dynamic-m3u8mpd-path-support">Dynamic M3u8/mpd Path Support<a href="#dynamic-m3u8mpd-path-support" class="hash-link" aria-label="Direct link to Dynamic M3u8/mpd Path Support" title="Direct link to Dynamic M3u8/mpd Path Support">​</a></h3><p>Some m3u8/mpd urls play the same live/vod but have different paths on them. For example,
example.com/clientId1/streamId.mpd and example.com/clientId2/streamId.mpd. In this case, you can format a common channelId for them.</p><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token comment" style="color:rgb(106, 153, 85)">// Set token in p2pConfig before setting channelId!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token literal-property property">p2pConfig</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token literal-property property">token</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token constant" style="color:rgb(100, 102, 149)">YOUR_TOKEN</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token function-variable function" style="color:rgb(220, 220, 170)">channelId</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(86, 156, 214)">function</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token parameter">mpdUrl</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        </span><span class="token keyword" style="color:rgb(86, 156, 214)">const</span><span class="token plain"> videoId </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">extractVideoIdFromUrl</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">mpdUrl</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain">   </span><span class="token comment" style="color:rgb(106, 153, 85)">// make a channelId by removing the different part which is defined by yourself</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        </span><span class="token keyword control-flow" style="color:rgb(86, 156, 214)">return</span><span class="token plain"> videoId</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token comment" style="color:rgb(106, 153, 85)">// channelId: VIDEO_ID       // for fixed channel id</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="dynamic-segment-path-support">Dynamic Segment Path Support<a href="#dynamic-segment-path-support" class="hash-link" aria-label="Direct link to Dynamic Segment Path Support" title="Direct link to Dynamic Segment Path Support">​</a></h3><p>Like dynamic mpd path, you should format a common segmentId for the same segment file. You can override the segment ID like this:</p><div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">.mpd</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">.m3u8</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token literal-property property">p2pConfig</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token comment" style="color:rgb(106, 153, 85)">/*</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token comment" style="color:rgb(106, 153, 85)">        segmentUrl: The url of segment</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token comment" style="color:rgb(106, 153, 85)">        range: The byte range of segment</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token comment" style="color:rgb(106, 153, 85)">     */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token function-variable function" style="color:rgb(220, 220, 170)">segmentId</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(86, 156, 214)">function</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token parameter">segmentUrl</span><span class="token parameter punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token parameter"> range</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        </span><span class="token keyword" style="color:rgb(86, 156, 214)">const</span><span class="token plain"> segId </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">extractSegmentIdFromUrl</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">segmentUrl</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> range</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        </span><span class="token keyword control-flow" style="color:rgb(86, 156, 214)">return</span><span class="token plain"> segId</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token literal-property property">p2pConfig</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token comment" style="color:rgb(106, 153, 85)">/*</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token comment" style="color:rgb(106, 153, 85)">        streamId: The id of stream</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token comment" style="color:rgb(106, 153, 85)">        sn: The serial number of segment</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token comment" style="color:rgb(106, 153, 85)">        segmentUrl: The url of segment</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token comment" style="color:rgb(106, 153, 85)">        range: The byte range of segment</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token comment" style="color:rgb(106, 153, 85)">     */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token function-variable function" style="color:rgb(220, 220, 170)">segmentId</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(86, 156, 214)">function</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token parameter">streamId</span><span class="token parameter punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token parameter"> sn</span><span class="token parameter punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token parameter"> segmentUrl</span><span class="token parameter punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token parameter"> range</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        </span><span class="token keyword" style="color:rgb(86, 156, 214)">const</span><span class="token plain"> tsId </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">extractSegmentIdFromUrl</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">segmentUrl</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        </span><span class="token keyword control-flow" style="color:rgb(86, 156, 214)">return</span><span class="token plain"> tsId</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></div></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/home/theoplayer"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Usage</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#create-instance" class="table-of-contents__link toc-highlight">Create instance</a><ul><li><a href="#var-engine--new-p2penginetheop2pconfig-opts" class="table-of-contents__link toc-highlight">var engine = new P2pEngineTheo({p2pConfig: opts});</a></li></ul></li><li><a href="#p2penginetheo-api" class="table-of-contents__link toc-highlight">P2pEngineTheo API</a></li><li><a href="#p2penginetheo-events" class="table-of-contents__link toc-highlight">P2pEngineTheo Events</a><ul><li><a href="#engineonserverconnected-function-connected-" class="table-of-contents__link toc-highlight"><strong><em>engine.on(&#39;serverConnected&#39;, function (connected) {})</em></strong></a></li><li><a href="#engineonexception-function-e-" class="table-of-contents__link toc-highlight"><strong><em>engine.on(&#39;exception&#39;, function (e) {})</em></strong></a></li><li><a href="#get-p2p-information-from-p2pconfig" class="table-of-contents__link toc-highlight">Get p2p information from p2pConfig</a></li></ul></li><li><a href="#advanced-usage" class="table-of-contents__link toc-highlight">Advanced Usage</a><ul><li><a href="#dynamic-m3u8mpd-path-support" class="table-of-contents__link toc-highlight">Dynamic M3u8/mpd Path Support</a></li><li><a href="#dynamic-segment-path-support" class="table-of-contents__link toc-highlight">Dynamic Segment Path Support</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="bg-[#F4F7FF] dark:bg-[#191919]"><div class="mx-auto flex w-full max-w-[1080px] flex-col px-6 py-12"><div class="mb-12 flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between"></div><div class="flex flex-col gap-6 lg:flex-row lg:items-center lg:justify-between lg:gap-0"><div class="flex flex-wrap gap-2 text-sm text-gray-500"><a class="text-inherit hover:text-black hover:underline dark:hover:text-[#2160fd] dark:text-[#999]" href="/home/guides/contract">Terms of Service</a><a class="text-inherit hover:text-black hover:underline dark:hover:text-[#2160fd] dark:text-[#999]" href="/home/guides/privacy">Privacy Policy</a><span class="text-inherit dark:text-[#999]">© <!-- -->2026<!-- --> SwarmCloud Inc.</span></div><div class="flex items-center gap-4"></div></div></div></footer></div>
<script src="/home/assets/js/runtime~main.053b99cf.js"></script>
<script src="/home/assets/js/main.f99e750f.js"></script>
</body>
</html>