"use strict";(self.webpackChunkswarmcloud_docs=self.webpackChunkswarmcloud_docs||[]).push([[8901],{3838:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>s,contentTitle:()=>c,default:()=>g,frontMatter:()=>l,metadata:()=>p,toc:()=>d});r(6540);var n=r(5680);function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}),e}function i(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}const l={title:"Introduction",sidebar_position:1},c=void 0,p={unversionedId:"introduction",id:"introduction",title:"Introduction",description:"This MP4/MP3 SDK creates a communal, distributed CDN with the latest HTML5 APIs \u2014 WebRTC to connect browsers, ServiceWorker to fulfill requests. As you might expect, it supports all modern browsers and all web players.",source:"@site/docs/media/introduction.mdx",sourceDirName:".",slug:"/introduction",permalink:"/home/media/introduction",draft:!1,tags:[],version:"current",sidebarPosition:1,frontMatter:{title:"Introduction",sidebar_position:1},sidebar:"tutorialSidebar",next:{title:"Usage",permalink:"/home/media/"}},s={},d=[{value:"Browser Support",id:"browser-support",level:3},{value:"How does it Work?",id:"how-does-it-work",level:3},{value:"Limitations",id:"limitations",level:3},{value:"Demo",id:"demo",level:3}],u={toc:d},m="wrapper";function g(e){var{components:t}=e,r=i(e,["components"]);return(0,n.yg)(m,o(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){a(e,t,r[t])})}return e}({},u,r),{components:t,mdxType:"MDXLayout"}),(0,n.yg)("a",{href:"https://www.npmjs.com/package/@swarmcloud/media"},(0,n.yg)("img",{src:"https://img.shields.io/npm/v/@swarmcloud/media.svg?style=flat",alt:"npm"})),(0,n.yg)("a",{href:"https://www.jsdelivr.com/package/npm/@swarmcloud/media"},(0,n.yg)("img",{src:"https://data.jsdelivr.com/v1/package/npm/@swarmcloud/media/badge",alt:"jsdelivr"})),(0,n.yg)("p",null,"This MP4/MP3 SDK creates a communal, distributed CDN with the latest HTML5 APIs \u2014 WebRTC to connect browsers, ServiceWorker to fulfill requests. As you might expect, it supports all modern browsers and all web players."),(0,n.yg)("h3",{id:"browser-support"},"Browser Support"),(0,n.yg)("p",null,"WebRTC has already been incorporated into the HTML5 standard and it is broadly deployed in modern browsers. The compatibility of SwarmCloud depends on the browser support of WebRTC and Service Worker."),(0,n.yg)("table",null,(0,n.yg)("thead",{parentName:"table"},(0,n.yg)("tr",{parentName:"thead"},(0,n.yg)("th",{parentName:"tr",align:"center"},"Compatibility"),(0,n.yg)("th",{parentName:"tr",align:"center"},"Chrome"),(0,n.yg)("th",{parentName:"tr",align:"center"},"Firefox"),(0,n.yg)("th",{parentName:"tr",align:"center"},"macOS Safari"),(0,n.yg)("th",{parentName:"tr",align:"center"},"Opera"),(0,n.yg)("th",{parentName:"tr",align:"center"},"Edge"),(0,n.yg)("th",{parentName:"tr",align:"center"},"iOS Safari"),(0,n.yg)("th",{parentName:"tr",align:"center"},"IE"))),(0,n.yg)("tbody",{parentName:"table"},(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:"center"},"WebRTC Datachannel"),(0,n.yg)("td",{parentName:"tr",align:"center"},"\u2714"),(0,n.yg)("td",{parentName:"tr",align:"center"},"\u2714"),(0,n.yg)("td",{parentName:"tr",align:"center"},"\u2714"),(0,n.yg)("td",{parentName:"tr",align:"center"},"\u2714"),(0,n.yg)("td",{parentName:"tr",align:"center"},"\u2714"),(0,n.yg)("td",{parentName:"tr",align:"center"},"\u2714"),(0,n.yg)("td",{parentName:"tr",align:"center"},"\u274c")),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:"center"},"Service Worker"),(0,n.yg)("td",{parentName:"tr",align:"center"},"\u2714"),(0,n.yg)("td",{parentName:"tr",align:"center"},"\u2714"),(0,n.yg)("td",{parentName:"tr",align:"center"},"\u2714"),(0,n.yg)("td",{parentName:"tr",align:"center"},"\u2714"),(0,n.yg)("td",{parentName:"tr",align:"center"},"\u2714"),(0,n.yg)("td",{parentName:"tr",align:"center"},"\u2714"),(0,n.yg)("td",{parentName:"tr",align:"center"},"\u274c")),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:"center"},"Supported"),(0,n.yg)("td",{parentName:"tr",align:"center"},"\u2714"),(0,n.yg)("td",{parentName:"tr",align:"center"},"\u2714"),(0,n.yg)("td",{parentName:"tr",align:"center"},"\u2714"),(0,n.yg)("td",{parentName:"tr",align:"center"},"\u2714"),(0,n.yg)("td",{parentName:"tr",align:"center"},"\u2714"),(0,n.yg)("td",{parentName:"tr",align:"center"},"\u2714"),(0,n.yg)("td",{parentName:"tr",align:"center"},"\u274c")))),(0,n.yg)("h3",{id:"how-does-it-work"},"How does it Work?"),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},"The SwarmCloud SDK embeds a local proxy server between the player and the origin to intercept content requests"),(0,n.yg)("li",{parentName:"ul"},"The player starts streaming content through the proxy."),(0,n.yg)("li",{parentName:"ul"},"The local proxy(ServiceWorker) waits for network requests of MP4/MP3 by listening for network fetch events, then forward the request to main thread")),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-javascript"},"self.addEventListener('fetch', event => { /* \u26e6 magic here \u26e6 */ })\n")),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},"The main thread decides whether to download from the peer according to the P2P network situation. After downloading, the main thread save a copy to share with other nodes"),(0,n.yg)("li",{parentName:"ul"},"After an asset is cached, every device watches for future requests for that asset and automatically retrieves it from peer-to-peer network instead of the more expensive, slower origin server (over WebRTC instead of HTTP)."),(0,n.yg)("li",{parentName:"ul"},"If no peers or p2p failed, the request fall through Service Worker unmodified and are fetched from the origin server")),(0,n.yg)("h3",{id:"limitations"},"Limitations"),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},"Only work on https website"),(0,n.yg)("li",{parentName:"ul"},"Need to host our web SDK(sw.js) on your own servers instead of getting it from our public cloud")),(0,n.yg)("h3",{id:"demo"},"Demo"),(0,n.yg)("p",null,(0,n.yg)("a",{parentName:"p",href:"https://demo.swarmcloud.net/?player=mp4"},"Click me!")))}g.isMDXComponent=!0},5680:(e,t,r)=>{r.d(t,{xA:()=>s,yg:()=>g});var n=r(6540);function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach(function(t){a(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function l(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var c=n.createContext({}),p=function(e){var t=n.useContext(c),r=t;return e&&(r="function"==typeof e?e(t):i(i({},t),e)),r},s=function(e){var t=p(e.components);return n.createElement(c.Provider,{value:t},e.children)},d="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},m=n.forwardRef(function(e,t){var r=e.components,a=e.mdxType,o=e.originalType,c=e.parentName,s=l(e,["components","mdxType","originalType","parentName"]),d=p(r),m=a,g=d["".concat(c,".").concat(m)]||d[m]||u[m]||o;return r?n.createElement(g,i(i({ref:t},s),{},{components:r})):n.createElement(g,i({ref:t},s))});function g(e,t){var r=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=r.length,i=new Array(o);i[0]=m;var l={};for(var c in t)hasOwnProperty.call(t,c)&&(l[c]=t[c]);l.originalType=e,l[d]="string"==typeof e?e:a,i[1]=l;for(var p=2;p<o;p++)i[p]=r[p];return n.createElement.apply(null,i)}return n.createElement.apply(null,r)}m.displayName="MDXCreateElement"}}]);