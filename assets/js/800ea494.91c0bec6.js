"use strict";(self.webpackChunkswarmcloud_docs=self.webpackChunkswarmcloud_docs||[]).push([[8882],{5680:(e,n,r)=>{r.d(n,{xA:()=>c,yg:()=>y});var t=r(6540);function o(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function a(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,t)}return r}function i(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?a(Object(r),!0).forEach(function(n){o(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function l(e,n){if(null==e)return{};var r,t,o=function(e,n){if(null==e)return{};var r,t,o={},a=Object.keys(e);for(t=0;t<a.length;t++)r=a[t],n.indexOf(r)>=0||(o[r]=e[r]);return o}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(t=0;t<a.length;t++)r=a[t],n.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var p=t.createContext({}),s=function(e){var n=t.useContext(p),r=n;return e&&(r="function"==typeof e?e(n):i(i({},n),e)),r},c=function(e){var n=s(e.components);return t.createElement(p.Provider,{value:n},e.children)},u="mdxType",d={inlineCode:"code",wrapper:function(e){var n=e.children;return t.createElement(t.Fragment,{},n)}},m=t.forwardRef(function(e,n){var r=e.components,o=e.mdxType,a=e.originalType,p=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),u=s(r),m=o,y=u["".concat(p,".").concat(m)]||u[m]||d[m]||a;return r?t.createElement(y,i(i({ref:n},c),{},{components:r})):t.createElement(y,i({ref:n},c))});function y(e,n){var r=arguments,o=n&&n.mdxType;if("string"==typeof e||o){var a=r.length,i=new Array(a);i[0]=m;var l={};for(var p in n)hasOwnProperty.call(n,p)&&(l[p]=n[p]);l.originalType=e,l[u]="string"==typeof e?e:o,i[1]=l;for(var s=2;s<a;s++)i[s]=r[s];return t.createElement.apply(null,i)}return t.createElement.apply(null,r)}m.displayName="MDXCreateElement"},6632:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>c,contentTitle:()=>p,default:()=>b,frontMatter:()=>l,metadata:()=>s,toc:()=>u});r(6540);var t=r(5680);function o(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function a(e,n){return n=null!=n?n:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):function(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,t)}return r}(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}),e}function i(e,n){if(null==e)return{};var r,t,o=function(e,n){if(null==e)return{};var r,t,o={},a=Object.keys(e);for(t=0;t<a.length;t++)r=a[t],n.indexOf(r)>=0||(o[r]=e[r]);return o}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(t=0;t<a.length;t++)r=a[t],n.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}const l={title:"Usage",sidebar_position:2,slug:"/"},p=void 0,s={unversionedId:"usage",id:"usage",title:"Usage",description:"Installation",source:"@site/docs/rn/usage.mdx",sourceDirName:".",slug:"/",permalink:"/home/rn/",draft:!1,tags:[],version:"current",sidebarPosition:2,frontMatter:{title:"Usage",sidebar_position:2,slug:"/"},sidebar:"tutorialSidebar",previous:{title:"Introduction",permalink:"/home/rn/introduction"},next:{title:"API & Config",permalink:"/home/rn/API"}},c={},u=[{value:"Installation",id:"installation",level:2},{value:"Example",id:"example",level:2},{value:"Demo",id:"demo",level:4}],d=e=>function(n){return console.warn("Component "+e+" was not imported, exported, or provided by MDXProvider as global scope"),(0,t.yg)("div",n)},m=d("Tabs"),y=d("TabItem"),g={toc:u},f="wrapper";function b(e){var{components:n}=e,r=i(e,["components"]);return(0,t.yg)(f,a(function(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),t.forEach(function(n){o(e,n,r[n])})}return e}({},g,r),{components:n,mdxType:"MDXLayout"}),(0,t.yg)("h2",{id:"installation"},"Installation"),(0,t.yg)(m,{groupId:"rn",mdxType:"Tabs"},(0,t.yg)(y,{value:"yarn",label:"yarn",mdxType:"TabItem"},(0,t.yg)("p",null,"Install the SDK using yarn."),(0,t.yg)("pre",null,(0,t.yg)("code",{parentName:"pre",className:"language-shell"},"yarn add react-native-swarmcloud\n"))),(0,t.yg)(y,{value:"npm",label:"npm",mdxType:"TabItem"},(0,t.yg)("p",null,"Install the SDK using npm."),(0,t.yg)("pre",null,(0,t.yg)("code",{parentName:"pre",className:"language-shell"},"npm install --save react-native-swarmcloud\n")))),(0,t.yg)(m,{groupId:"rn",defaultValue:"android",values:[{label:"Android",value:"android"},{label:"iOS",value:"ios"}],mdxType:"Tabs"},(0,t.yg)(y,{value:"android",mdxType:"TabItem"},(0,t.yg)("p",null,"You also need to declare the SwarmCloud Maven repository. This declaration must be made in your the allprojects.repositories section of your android/build.gradle file:"),(0,t.yg)("pre",null,(0,t.yg)("code",{parentName:"pre"},"allprojects {\n    repositories {\n        // ... other repositories\n        maven {\n            url 'https://maven.swarmcloud.net/repository/maven-releases/'\n        }\n    }\n}\n")),(0,t.yg)("admonition",{type:"info"},(0,t.yg)("p",{parentName:"admonition"},"The below instructions are for the release builds, debug builds should work\nwithout any additional steps.")),(0,t.yg)("ol",null,(0,t.yg)("li",{parentName:"ol"},"Create / append to the file ",(0,t.yg)("inlineCode",{parentName:"li"},"android/app/proguard-rules.pro"))),(0,t.yg)("pre",null,(0,t.yg)("code",{parentName:"pre",className:"language-groovy"},"-dontwarn com.p2pengine.**\n-keep class com.p2pengine.**{*;}\n-keep interface com.p2pengine.**{*;}\n-keep class com.cdnbye.libdc.**{*;}\n-keep interface com.cdnbye.libdc.**{*;}\n-keep class com.snapchat.djinni.**{*;}\n")),(0,t.yg)("ol",{start:2},(0,t.yg)("li",{parentName:"ol"},"In your ",(0,t.yg)("inlineCode",{parentName:"li"},"android/app/build.gradle")," edit the release configuration and add the\nfollowing line importing the proguard configuration")),(0,t.yg)("pre",null,(0,t.yg)("code",{parentName:"pre",className:"language-groovy"},"buildTypes {\n  release {\n    ...\n    ...\n    ...\n    proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n  }\n}\n\n"))),(0,t.yg)(y,{value:"ios",mdxType:"TabItem"},(0,t.yg)("admonition",{title:"iOS minimum version 13.0",type:"tip"},(0,t.yg)("p",{parentName:"admonition"},"We support minimum OS version ",(0,t.yg)("inlineCode",{parentName:"p"},"13.0")," for our iOS SDK.")),(0,t.yg)("ol",null,(0,t.yg)("li",{parentName:"ol"},"Open your podfile and make sure your platform is set to ios 13")),(0,t.yg)("pre",null,(0,t.yg)("code",{parentName:"pre",className:"language-ruby"},"platform :ios, '13.0'\n")))),(0,t.yg)("h2",{id:"example"},"Example"),(0,t.yg)("pre",null,(0,t.yg)("code",{parentName:"pre",className:"language-tsx"},"import { useState, useEffect } from 'react';\nimport { StyleSheet, SafeAreaView } from 'react-native';\nimport { Header } from 'react-native/Libraries/NewAppScreen';\nimport Video from 'react-native-video';\nimport {\n  initP2pEngine,\n  parseStreamURL,\n  TrackerZone,\n} from 'react-native-swarmcloud';\n\nexport default function App() {\n  const [source, setSource] = useState({\n    uri: '',\n  });\n\n  useEffect(() => {\n    initP2pEngine(YOUR_TOKEN, {\n      trackerZone: TrackerZone.Europe,           // Set HongKong or USA if you changed zone\n    })\n      .then(() => {\n        const url = parseStreamURL(YOUR_STREAM_URL);\n        setSource({ uri: url });\n      })\n      .catch((e) => console.error(e.toString()));\n  }, []);\n\n  return (\n    <SafeAreaView>\n        <Header />\n        <Video\n          source={source}\n          controls={true}\n          style={styles.backgroundVideo}\n        />\n    </SafeAreaView>\n  );\n}\nconst styles = StyleSheet.create({\n  backgroundVideo: {\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    bottom: 0,\n    right: 0,\n  },\n});\n")),(0,t.yg)("p",null,"Where YOUR_TOKEN is your Customer ID. Please replace it by your own token obtained from console, click ",(0,t.yg)("a",{parentName:"p",href:"/guides/getting-started#for-mobile-app-integration"},"here")," for more information."),(0,t.yg)("h4",{id:"demo"},"Demo"),(0,t.yg)("p",null,"A completed example can be found ",(0,t.yg)("a",{parentName:"p",href:"https://github.com/swarm-cloud/react-native-swarmcloud/blob/main/example/src/App.tsx"},"here")))}b.isMDXComponent=!0}}]);