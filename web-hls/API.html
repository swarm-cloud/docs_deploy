<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-web-hls docs-doc-id-API" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.3">
<title data-rh="true">API &amp; Config | SwarmCloud Docs</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://www.swarmcloud.net/home/logo/logo.webp"><meta data-rh="true" name="twitter:image" content="https://www.swarmcloud.net/home/logo/logo.webp"><meta data-rh="true" property="og:url" content="https://www.swarmcloud.net/home/web-hls/API"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="keywords" content="swarmcloud, cdnbye, peer5, streamroot, p2p, webrtc, hls, m3u8, mp4, dplayer, videojs, clappr, web p2p, android p2p, ios p2p, vod, live, video"><meta data-rh="true" name="cryptomus" content="4385600b"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-web-hls-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-web-hls-current"><meta data-rh="true" property="og:title" content="API &amp; Config | SwarmCloud Docs"><meta data-rh="true" name="description" content="P2pEngineHls API"><meta data-rh="true" property="og:description" content="P2pEngineHls API"><link data-rh="true" rel="icon" href="/home/favicon.ico"><link data-rh="true" rel="canonical" href="https://www.swarmcloud.net/home/web-hls/API"><link data-rh="true" rel="alternate" href="https://www.swarmcloud.net/home/web-hls/API" hreflang="en"><link data-rh="true" rel="alternate" href="https://www.swarmcloud.net/home/web-hls/API" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://XECAYCM7G7-dsn.algolia.net" crossorigin="anonymous"><link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=AW-10834653519"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","AW-10834653519",{})</script>


<link rel="search" type="application/opensearchdescription+xml" title="SwarmCloud Docs" href="/home/opensearch.xml"><link rel="stylesheet" href="/home/assets/css/styles.9b5c9c1f.css">
<link rel="preload" href="/home/assets/js/runtime~main.053b99cf.js" as="script">
<link rel="preload" href="/home/assets/js/main.f99e750f.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"dark")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/home/"><div class="navbar__logo"><img src="/home/img/logo.webp" alt="SwarmCloud Docs" class="themedImage_ToTc themedImage--light_HNdA" height="32px" width="32px"><img src="/home/img/logo.webp" alt="SwarmCloud Docs" class="themedImage_ToTc themedImage--dark_i4oU" height="32px" width="32px"></div></a><a class="navbar__item navbar__link guides-top-header" href="/home/guides/getting-started">Guides</a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link dyte-dropdown">SDKs</a><ul class="dropdown__menu"><li class="dyte-dropdown"><script>function showMenu(o){document.body.classList.remove("web","mobile","desktop","plugin"),document.body.classList.add(o)}window.showMenu=showMenu</script>
<div class="sdks-dropdown flex max-w-lg flex-col rounded-2xl lg:min-w-[768px]">
  <div class="flex flex-col bg-secondary-800 p-4 lg:min-h-[300px] lg:flex-row">
    <div class="flex flex-1 flex-col gap-8 rounded-xl bg-secondary-1000 p-6">
      <a data-dropdown-sdks-menu="web" onfocus='document.body.setAttribute("data-sdk-menu","web")' onmouseover='document.body.setAttribute("data-sdk-menu","web")' class="flex cursor-pointer items-start justify-start gap-2 border-none bg-transparent text-black dark:text-white">
        <div class="flex-shrink-0">
          <img src="/home/static/landing-page/sdk-icons/resources/web.svg" class="h-6 w-6">
        </div>
        <div class="flex flex-col items-start justify-start gap-1">
          <div class="text-base font-semibold">Web</div>
          <p class="mb-0 text-left text-sm text-text-400">
            SDK for Web Browser and Electron
          </p>
        </div>
      </a>
      <a data-dropdown-sdks-menu="mobile" onfocus='document.body.setAttribute("data-sdk-menu","mobile")' onmouseover='document.body.setAttribute("data-sdk-menu","mobile")' class="flex cursor-pointer items-start justify-start gap-2 border-none bg-transparent text-black dark:text-white">
        <div class="flex-shrink-0">
          <img src="/home/static/landing-page/sdk-icons/resources/mobile.svg" class="h-6 w-6">
        </div>
        <div class="flex flex-col items-start justify-start gap-1">
          <div class="text-base font-semibold">Mobile</div>
          <p class="mb-0 text-left text-sm text-text-400">
            SDK for Mobile and TV platform
          </p>
        </div>
      </a>
    </div>
    <div class="flex-1 pl-6">
      <div class="flex flex-col gap-2" data-dropdown-sdks="web">
        <div class="flex flex-1 flex-col">
          <ul class="sdk-ul">
            <li>
              <a href="/home/web-hls" class="sdk-link">
                <img src="/home/static/landing-page/sdk-icons/js.png">
                Hls.js Built-in Players
              </a>
              <a href="/home/vhs" class="sdk-link">
                <img src="/home/static/landing-page/sdk-icons/js.png">
                Video.js(vhs)
              </a>
              <a href="/home/shaka" class="sdk-link">
                <img src="/home/static/landing-page/sdk-icons/js.png">
                Shaka-Player
              </a>
              <a href="/home/media" class="sdk-link">
                <img src="/home/static/landing-page/sdk-icons/js.png">
                MP4/MP3
              </a>
              <a href="/home/dashjs" class="sdk-link">
                <img src="/home/static/landing-page/sdk-icons/js.png">
                Dash.js
              </a>
              <a href="/home/rx-player" class="sdk-link">
                <img src="/home/static/landing-page/sdk-icons/js.png">
                RxPlayer
              </a>
              <a href="/home/bitmovin" class="sdk-link">
                <img src="/home/static/landing-page/sdk-icons/js.png">
                Bitmovin-Player
              </a>
              <a href="/home/theoplayer" class="sdk-link">
                <img src="/home/static/landing-page/sdk-icons/js.png">
                THEOplayer
              </a>
<!--              <a href="/home/download" class="sdk-link">-->
<!--                <img src="/home/static/landing-page/sdk-icons/js.png" />-->
<!--                File Downloader-->
<!--              </a>-->
            </li>
          </ul>
        </div>
      </div>

      <div class="flex flex-col gap-2" data-dropdown-sdks="mobile">
        <div class="flex w-full gap-2">
          <div class="flex-1">
            <ul class="list-none pl-0">
              <li>
                <a href="/home/android" class="sdk-link">
                  <img src="/home/static/landing-page/sdk-icons/kotlin.png">
                  Android
                </a>
              </li>
              <li>
                <a href="/home/flutter" class="sdk-link">
                  <img src="/home/static/landing-page/sdk-icons/flutter.png">
                  Flutter
                </a>
              </li>
              <li>
                <a href="/home/rn" class="sdk-link">
                  <img src="/home/static/landing-page/sdk-icons/react.png">
                  React Native
                </a>
              </li>
              <li>
                <a href="/home/ios" class="sdk-link">
                  <img src="/home/static/landing-page/sdk-icons/swift.png">
                  iOS/tvOS/macOS
                </a>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
</li></ul></div><a class="navbar__item navbar__link" href="/home/faq">FAQ</a><a class="navbar__item navbar__link" href="/home/pricing">Pricing</a></div><div class="navbar__items navbar__items--right"><div class="searchBox_ZlJk"><div class="relative flex items-center gap-2"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div><div class="navbar__item dev-portal-signup dev-portal-link cursor"><span onclick='window.open(`https://meshify-cloud.github.io/redirect/#/signup?source=${new URLSearchParams(window.location.search).get("utm_source")||location.host}`,"_blank")'>Sign Up</span></div><a href="https://demo.swarmcloud.net/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Demo<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://github.com/swarm-cloud" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>English</a><ul class="dropdown__menu"><li><a href="/home/web-hls/API" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="en">English</a></li><li><a href="https://www.cdnbye.com" target="_blank" rel="noopener noreferrer" class="dropdown__link">中文<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently dark mode)" aria-label="Switch between dark and light mode (currently dark mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_mhZE"><div class="sidebar-menu multiSectionContainer_bYm7"><div class="section_olD1 sectionActive_D9yk" tabindex="0"><div class="label_WInT">Web SDK</div><div><div class="row_KvCx"><button type="button" role="combobox" aria-controls="" aria-expanded="false" aria-autocomplete="none" aria-label="Select Section" class="sections-menu-trigger"><span style="pointer-events:none"></span><span aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="sections-menu-scrollButton"><polyline points="6 9 12 15 18 9"></polyline></svg></span></button><select aria-hidden="true" tabindex="-1" style="position:absolute;border:0;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;word-wrap:normal"></select></div></div></div></div><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/home/web-hls/introduction">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/home/web-hls">Usage</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/home/web-hls/players">Player Integration</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/home/web-hls/API">API &amp; Config</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/home/web-hls/CDN">CDN</a></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/home/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">API &amp; Config</span><meta itemprop="position" content="1"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>API &amp; Config</h1></header><h2 class="anchor anchorWithStickyNavbar_LWe7" id="p2penginehls-api">P2pEngineHls API<a href="#p2penginehls-api" class="hash-link" aria-label="Direct link to P2pEngineHls API" title="Direct link to P2pEngineHls API">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="var-engine--new-p2penginehlsp2pconfig"><strong><em>var engine = new P2pEngineHls(p2pConfig);</em></strong><a href="#var-engine--new-p2penginehlsp2pconfig" class="hash-link" aria-label="Direct link to var-engine--new-p2penginehlsp2pconfig" title="Direct link to var-engine--new-p2penginehlsp2pconfig">​</a></h3><p>Create a new <strong><em>P2pEngineHls</em></strong> instance.</p><p>If <strong><em>p2pConfig</em></strong> is specified, then the default options (shown below) will be overridden.</p><table><thead><tr><th align="center">Field</th><th align="center">Type</th><th align="center">Default</th><th align="center">Description</th></tr></thead><tbody><tr><td align="center"><strong><em>hlsjsInstance</em></strong></td><td align="center">Hlsjs</td><td align="center">null</td><td align="center">If the instance of hlsjs is not passed in, the hlsjs based engine will not be enabled.</td></tr><tr><td align="center"><strong><em>proxyOnly</em></strong></td><td align="center">boolean</td><td align="center">false</td><td align="center">Force to enable ServiceWorker based engine.</td></tr><tr><td align="center"><strong><em>logLevel</em></strong></td><td align="center">string<!-- -->|<!-- -->boolean</td><td align="center">&#x27;error&#x27;</td><td align="center">Print log level(warn, error, none, false=none, true=warn).</td></tr><tr><td align="center"><strong><em>token</em></strong></td><td align="center">string</td><td align="center">undefined</td><td align="center">Token is used to summarize and display multi domain name data on the console. In addition, token is required while customizing channelId.</td></tr><tr><td align="center"><strong><em>live</em></strong></td><td align="center">boolean</td><td align="center">true</td><td align="center">tell engine whether in live or VOD mode.</td></tr><tr><td align="center"><strong><em>trackerZone</em></strong></td><td align="center">string</td><td align="center">&#x27;eu&#x27;</td><td align="center">The country code name of the tracker server address(&#x27;eu&#x27;, &#x27;hk&#x27;, &#x27;us&#x27;).</td></tr><tr><td align="center"><strong><em>memoryCacheLimit</em></strong></td><td align="center">Object</td><td align="center">{&quot;pc&quot;: 400 <!-- -->*<!-- --> 1024 <!-- -->*<!-- --> 1024, &quot;mobile&quot;: 100 <!-- -->*<!-- --> 1024 <!-- -->*<!-- --> 1024}</td><td align="center">The max size of binary data that can be stored in the memory cache.</td></tr><tr><td align="center"><strong><em>p2pEnabled</em></strong></td><td align="center">boolean</td><td align="center">true</td><td align="center">Enable or disable p2p engine.</td></tr><tr><td align="center"><strong><em>webRTCConfig</em></strong></td><td align="center">Object</td><td align="center">{}</td><td align="center">A <a href="https://github.com/feross/simple-peer" target="_blank" rel="noopener noreferrer">Configuration dictionary</a> providing options to configure WebRTC connections.</td></tr><tr><td align="center"><strong><em>useHttpRange</em></strong></td><td align="center">boolean</td><td align="center">true</td><td align="center">Use HTTP ranges requests where it is possible. Allows to continue (and not start over) aborted P2P downloads over HTTP.</td></tr><tr><td align="center"><strong><em>sharePlaylist</em></strong></td><td align="center">boolean</td><td align="center">false</td><td align="center">Allow the P2P transmission of m3u8 file.</td></tr><tr><td align="center"><strong><em>strictSegmentId</em></strong></td><td align="center">boolean</td><td align="center">false</td><td align="center">Use segment url based segment id instead of sequence number based one.</td></tr><tr><td align="center"><strong><em>swAutoRegister</em></strong></td><td align="center">boolean</td><td align="center">true</td><td align="center">Whether to automatically register serviceworker after initializing the engine based on serviceworker.</td></tr><tr><td align="center"><strong><em>swFile</em></strong></td><td align="center">string</td><td align="center">&#x27;./sw.js&#x27;</td><td align="center">The file name and path of ServiceWorker.</td></tr><tr><td align="center"><strong><em>swScope</em></strong></td><td align="center">string</td><td align="center">&#x27;./&#x27;</td><td align="center">The default scope is the location of the ServiceWorker file, and extends to all directories below. So if sw.js is located in the root directory, the ServiceWorker will control requests from all files at this domain.</td></tr><tr><td align="center"><strong><em>mediaElem</em></strong></td><td align="center">HTMLMediaElement<!-- -->|<!-- -->string</td><td align="center">undefined</td><td align="center">Specify the ID or element object of the media tag, default value is the first video or audio element in the document tree.</td></tr><tr><td align="center"><strong><em>useDiskCache</em></strong></td><td align="center">boolean</td><td align="center">true</td><td align="center">Use IndexedDB to cache data for VOD streaming.</td></tr><tr><td align="center"><strong><em>diskCacheLimit</em></strong></td><td align="center">Object</td><td align="center">{&quot;pc&quot;: 1500 <!-- -->*<!-- --> 1024 <!-- -->*<!-- --> 1024, &quot;mobile&quot;: 1000 <!-- -->*<!-- --> 1024 <!-- -->*<!-- --> 1024}</td><td align="center">The max size of binary data that can be stored in the disk cache.</td></tr><tr><td align="center"><strong><em>prefetchOnly</em></strong></td><td align="center">boolean</td><td align="center">false</td><td align="center">Only use prefetch strategy in p2p downloading.</td></tr><tr><td align="center"><strong><em>startFromSegmentOffset</em></strong></td><td align="center">number</td><td align="center">3</td><td align="center">The segment offset that start to connect to tracker server.</td></tr></tbody></table><h2 class="anchor anchorWithStickyNavbar_LWe7" id="p2penginehls-properties-and-methods">P2pEngineHls Properties and Methods<a href="#p2penginehls-properties-and-methods" class="hash-link" aria-label="Direct link to P2pEngineHls Properties and Methods" title="Direct link to P2pEngineHls Properties and Methods">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="p2penginehlsversion-static"><strong><em>P2pEngineHls.version</em></strong> (static)<a href="#p2penginehlsversion-static" class="hash-link" aria-label="Direct link to p2penginehlsversion-static" title="Direct link to p2penginehlsversion-static">​</a></h3><p>Get the version of SDK.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="p2penginehlsprotocolversion-static"><strong><em>P2pEngineHls.protocolVersion</em></strong> (static)<a href="#p2penginehlsprotocolversion-static" class="hash-link" aria-label="Direct link to p2penginehlsprotocolversion-static" title="Direct link to p2penginehlsprotocolversion-static">​</a></h4><p>Get the version of P2P protocol.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="p2penginehlshlsjsengine-static"><strong><em>P2pEngineHls.HlsjsEngine (static)</em></strong><a href="#p2penginehlshlsjsengine-static" class="hash-link" aria-label="Direct link to p2penginehlshlsjsengine-static" title="Direct link to p2penginehlshlsjsengine-static">​</a></h4><p>Get the constructor of Hlsjs based P2pEngine.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="p2penginehlsserviceworkerengine-static"><strong><em>P2pEngineHls.ServiceWorkerEngine (static)</em></strong><a href="#p2penginehlsserviceworkerengine-static" class="hash-link" aria-label="Direct link to p2penginehlsserviceworkerengine-static" title="Direct link to p2penginehlsserviceworkerengine-static">​</a></h4><p>Get the constructor of ServiceWorker based P2pEngine.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="p2penginehlstryregisterserviceworkerconfig-static"><strong><em>P2pEngineHls.tryRegisterServiceWorker(config) (static)</em></strong><a href="#p2penginehlstryregisterserviceworkerconfig-static" class="hash-link" aria-label="Direct link to p2penginehlstryregisterserviceworkerconfig-static" title="Direct link to p2penginehlstryregisterserviceworkerconfig-static">​</a></h4><p>Static method to register ServiceWorker, if <strong><em>config</em></strong> is specified, then the default options (shown below) will be overridden.</p><table><thead><tr><th align="center">Field</th><th align="center">Type</th><th align="center">Default</th><th align="center">Description</th></tr></thead><tbody><tr><td align="center">swFile</td><td align="center">string</td><td align="center">&#x27;./sw.js&#x27;</td><td align="center">The file name and path of ServiceWorker.</td></tr><tr><td align="center">swScope</td><td align="center">string</td><td align="center">&#x27;./&#x27;</td><td align="center">The default scope is the location of the ServiceWorker file.</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_LWe7" id="p2penginehlsgetbrowser-static"><strong><em>P2pEngineHls.getBrowser()</em></strong> (static)<a href="#p2penginehlsgetbrowser-static" class="hash-link" aria-label="Direct link to p2penginehlsgetbrowser-static" title="Direct link to p2penginehlsgetbrowser-static">​</a></h4><p>Get the name of the browser. The possible values are as follows:</p><ul><li>Chrome</li><li>Firefox</li><li>Mac-Safari</li><li>iOS-Safari</li><li>X5</li><li>Unknown</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="p2penginehlsissupported-static-method"><strong><em>P2pEngineHls.isSupported()</em></strong> (static method)<a href="#p2penginehlsissupported-static-method" class="hash-link" aria-label="Direct link to p2penginehlsissupported-static-method" title="Direct link to p2penginehlsissupported-static-method">​</a></h3><p>Returns true if both WebRTC Data Channel and one of MSE or SeviceWorker are supported.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="p2penginehlsismsesupported-static"><strong><em>P2pEngineHls.isMSESupported() (static)</em></strong><a href="#p2penginehlsismsesupported-static" class="hash-link" aria-label="Direct link to p2penginehlsismsesupported-static" title="Direct link to p2penginehlsismsesupported-static">​</a></h4><p>Returns true if MEDIA SOURCE EXTENSIONS(MSE) is supported by the browser.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="p2penginehlsisseviceworkersupported-static"><strong><em>P2pEngineHls.isSeviceWorkerSupported() (static)</em></strong><a href="#p2penginehlsisseviceworkersupported-static" class="hash-link" aria-label="Direct link to p2penginehlsisseviceworkersupported-static" title="Direct link to p2penginehlsisseviceworkersupported-static">​</a></h4><p>Returns true if ServiceWorker is supported by the browser.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="enginerealengine"><strong><em>engine.realEngine</em></strong><a href="#enginerealengine" class="hash-link" aria-label="Direct link to enginerealengine" title="Direct link to enginerealengine">​</a></h3><p>Gets the currently working engine instance.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="engineenginename"><strong><em>engine.engineName</em></strong><a href="#engineenginename" class="hash-link" aria-label="Direct link to engineenginename" title="Direct link to engineenginename">​</a></h3><p>Get the name of the currently working engine instance. The possible values are as follows:</p><ul><li>HlsjsP2pEngine</li><li>HlsSwP2pEngine</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="engineenablep2p"><strong><em>engine.enableP2P()</em></strong><a href="#engineenablep2p" class="hash-link" aria-label="Direct link to engineenablep2p" title="Direct link to engineenablep2p">​</a></h3><p>Start p2p.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="enginedisablep2p"><strong><em>engine.disableP2P()</em></strong><a href="#enginedisablep2p" class="hash-link" aria-label="Direct link to enginedisablep2p" title="Direct link to enginedisablep2p">​</a></h3><p>Stop p2p, free used resources.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="enginedestroy"><strong><em>engine.destroy()</em></strong><a href="#enginedestroy" class="hash-link" aria-label="Direct link to enginedestroy" title="Direct link to enginedestroy">​</a></h3><p>Stop p2p and free used resources.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="engineregisterserviceworker"><strong><em>engine.registerServiceWorker()</em></strong><a href="#engineregisterserviceworker" class="hash-link" aria-label="Direct link to engineregisterserviceworker" title="Direct link to engineregisterserviceworker">​</a></h3><p>Register ServiceWorker and return a promise.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="engineunregisterserviceworker"><strong><em>engine.unregisterServiceWorker()</em></strong><a href="#engineunregisterserviceworker" class="hash-link" aria-label="Direct link to engineunregisterserviceworker" title="Direct link to engineunregisterserviceworker">​</a></h3><p>Unregister ServiceWorker and return a promise.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="p2penginehls-events">P2pEngineHls Events<a href="#p2penginehls-events" class="hash-link" aria-label="Direct link to P2pEngineHls Events" title="Direct link to P2pEngineHls Events">​</a></h2><h4 class="anchor anchorWithStickyNavbar_LWe7" id="engineonpeerid-function-peerid-"><strong><em>engine.on(&#x27;peerId&#x27;, function (peerId) {})</em></strong><a href="#engineonpeerid-function-peerid-" class="hash-link" aria-label="Direct link to engineonpeerid-function-peerid-" title="Direct link to engineonpeerid-function-peerid-">​</a></h4><p>Emitted when the peer Id of this client is obtained from server.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="engineonpeers-function-peers-"><strong><em>engine.on(&#x27;peers&#x27;, function (peers) {})</em></strong><a href="#engineonpeers-function-peers-" class="hash-link" aria-label="Direct link to engineonpeers-function-peers-" title="Direct link to engineonpeers-function-peers-">​</a></h4><p>Emitted when successfully connected with new peer.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="engineonstats-function-stats-"><strong><em>engine.on(&#x27;stats&#x27;, function (stats) {})</em></strong><a href="#engineonstats-function-stats-" class="hash-link" aria-label="Direct link to engineonstats-function-stats-" title="Direct link to engineonstats-function-stats-">​</a></h4><p>Emitted when data is downloaded/uploaded.<br>
stats.totalHTTPDownloaded: total data downloaded by HTTP(KB).<br>
stats.totalP2PDownloaded: total data downloaded by P2P(KB).<br>
stats.totalP2PUploaded: total data uploaded by P2P(KB).<br>
stats.p2pDownloadSpeed: p2p download speed(KB/s).</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="engineonserverconnected-function-connected-"><strong><em>engine.on(&#x27;serverConnected&#x27;, function (connected) {})</em></strong><a href="#engineonserverconnected-function-connected-" class="hash-link" aria-label="Direct link to engineonserverconnected-function-connected-" title="Direct link to engineonserverconnected-function-connected-">​</a></h3><p>Emitted when websocket is opened/closed.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="engineonexception-function-e-"><strong><em>engine.on(&#x27;exception&#x27;, function (e) {})</em></strong><a href="#engineonexception-function-e-" class="hash-link" aria-label="Direct link to engineonexception-function-e-" title="Direct link to engineonexception-function-e-">​</a></h3><p>Emitted when exception occured.<br>
e.code: Exception identifier（TRACKER_EXPT SIGNAL_EXPT）<br>
e.message: Exception message <br>
e.stack: Exception stack <br></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="get-p2p-information-from-p2pconfig">Get p2p information from p2pConfig<a href="#get-p2p-information-from-p2pconfig" class="hash-link" aria-label="Direct link to Get p2p information from p2pConfig" title="Direct link to Get p2p information from p2pConfig">​</a></h3><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token literal-property property">p2pConfig</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token function-variable function" style="color:rgb(220, 220, 170)">getStats</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(86, 156, 214)">function</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token parameter">totalP2PDownloaded</span><span class="token parameter punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token parameter"> totalP2PUploaded</span><span class="token parameter punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token parameter"> totalHTTPDownloaded</span><span class="token parameter punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token parameter"> p2pDownloadSpeed</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        </span><span class="token comment" style="color:rgb(106, 153, 85)">// get the downloading statistics</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token function-variable function" style="color:rgb(220, 220, 170)">getPeerId</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(86, 156, 214)">function</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token parameter">peerId</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        </span><span class="token comment" style="color:rgb(106, 153, 85)">// get peer Id</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token function-variable function" style="color:rgb(220, 220, 170)">getPeersInfo</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(86, 156, 214)">function</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token parameter">peers</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        </span><span class="token comment" style="color:rgb(106, 153, 85)">// get peers information</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token function-variable function" style="color:rgb(220, 220, 170)">onHttpDownloaded</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(86, 156, 214)">function</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token parameter">traffic</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        </span><span class="token comment" style="color:rgb(106, 153, 85)">// listen to http downloaded traffic</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token function-variable function" style="color:rgb(220, 220, 170)">onP2pDownloaded</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(86, 156, 214)">function</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token parameter">traffic</span><span class="token parameter punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token parameter"> speed</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        </span><span class="token comment" style="color:rgb(106, 153, 85)">// listen to p2p downloaded traffic</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token function-variable function" style="color:rgb(220, 220, 170)">onP2pUploaded</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(86, 156, 214)">function</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token parameter">traffic</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        </span><span class="token comment" style="color:rgb(106, 153, 85)">// listen to p2p uploaded traffic</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p>The unit of download and upload is KB.
The unit of download speed is KB/s.</p></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="new-api-for-hlsjs">New API for Hls.js<a href="#new-api-for-hlsjs" class="hash-link" aria-label="Direct link to New API for Hls.js" title="Direct link to New API for Hls.js">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="hlsengineversion-static-method"><strong><em>Hls.engineVersion</em></strong> (static method)<a href="#hlsengineversion-static-method" class="hash-link" aria-label="Direct link to hlsengineversion-static-method" title="Direct link to hlsengineversion-static-method">​</a></h3><p>Show the current version of SDK.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="hlswebrtc_support-static-method"><strong><em>Hls.WEBRTC_SUPPORT</em></strong> (static method)<a href="#hlswebrtc_support-static-method" class="hash-link" aria-label="Direct link to hlswebrtc_support-static-method" title="Direct link to hlswebrtc_support-static-method">​</a></h3><p>Is WebRTC natively supported in the environment?</p><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token keyword control-flow" style="color:rgb(86, 156, 214)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token maybe-class-name">Hls</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token constant" style="color:rgb(100, 102, 149)">WEBRTC_SUPPORT</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token comment" style="color:rgb(106, 153, 85)">// WebRTC is supported</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:rgb(86, 156, 214)">else</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token comment" style="color:rgb(106, 153, 85)">// Use a fallback</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="hlsp2pengine-static-method"><strong><em>Hls.P2pEngine</em></strong> (static method)<a href="#hlsp2pengine-static-method" class="hash-link" aria-label="Direct link to hlsp2pengine-static-method" title="Direct link to hlsp2pengine-static-method">​</a></h3><p>Get P2pEngineHls class from Hls, which is equivalent to the directly introduced P2pEngineHls.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="create-hls-instance">Create Hls Instance<a href="#create-hls-instance" class="hash-link" aria-label="Direct link to Create Hls Instance" title="Direct link to Create Hls Instance">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="var-hls--new-hlsp2pconfig-opts"><strong><em>var hls = new Hls({p2pConfig: <!-- -->[opts]<!-- -->});</em></strong><a href="#var-hls--new-hlsp2pconfig-opts" class="hash-link" aria-label="Direct link to var-hls--new-hlsp2pconfig-opts" title="Direct link to var-hls--new-hlsp2pconfig-opts">​</a></h3><p>Create a new <strong><em>Hls</em></strong> instance, where p2pConfig is equivalent to the p2pConfig passed to P2pEngineHls. At this time, there is no need to specify hlsjsInstance.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="hlsp2pengine"><strong><em>hls.p2pEngine</em></strong><a href="#hlsp2pengine" class="hash-link" aria-label="Direct link to hlsp2pengine" title="Direct link to hlsp2pengine">​</a></h3><p>Get the instance of <strong><em>P2pEngineHls</em></strong> from <strong><em>Hls</em></strong> .</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="hlsproxy-api">HlsProxy API<a href="#hlsproxy-api" class="hash-link" aria-label="Direct link to HlsProxy API" title="Direct link to HlsProxy API">​</a></h2><h4 class="anchor anchorWithStickyNavbar_LWe7" id="new-hlsproxyconfig">new HlsProxy(config);<a href="#new-hlsproxyconfig" class="hash-link" aria-label="Direct link to new HlsProxy(config);" title="Direct link to new HlsProxy(config);">​</a></h4><p>Create a new <strong><em>HlsProxy</em></strong> instance.</p><p>If <strong><em>config</em></strong> is specified, then the default options (shown below) will be overridden.</p><table><thead><tr><th align="center">Field</th><th align="center">Type</th><th align="center">Default</th><th align="center">Description</th></tr></thead><tbody><tr><td align="center">httpHeadersForPlaylist</td><td align="center">function(url, headers, originalHeaders)</td><td align="center">null</td><td align="center">Set http headers for m3u8 request, for example, httpHeadersForPlaylist: (url, headers) =&gt; { headers.set(&#x27;token&#x27;, &#x27;xxx&#x27;) }</td></tr><tr><td align="center">httpHeadersForMediaFile</td><td align="center">function(url, headers, originalHeaders)</td><td align="center">null</td><td align="center">Set http headers for ts request, for example, httpHeadersForMediaFile: (url, headers) =&gt; { headers.set(&#x27;token&#x27;, &#x27;xxx&#x27;) }</td></tr><tr><td align="center">insertTimeOffsetTag</td><td align="center">boolean</td><td align="center">false</td><td align="center">Insert &quot;#ext-x-start: time-offset = <!-- -->[playlistTimeOffset]<!-- -->&quot; in m3u8 file to force the player to start loading from the first ts of playlist, only works on live mode</td></tr><tr><td align="center">playlistTimeOffset</td><td align="center">number</td><td align="center">0.01</td><td align="center">The offset in seconds to start playing the video. If the value is negative, specifies the time from the end of the playlist. The offset must not be larger than the playlist duration, only works when insertTimeOffsetTag is true</td></tr><tr><td align="center">allowedMediaFiles</td><td align="center">Array</td><td align="center">[&#x27;ts&#x27;, &#x27;mp4&#x27;, &#x27;m4s&#x27;, &#x27;fmp4&#x27;]</td><td align="center">Additional media file extension (eg. <!-- -->[&#x27;txt&#x27;, &#x27;png&#x27;]<!-- -->) that need to be intercepted, use <!-- -->[&#x27;*&#x27;]<!-- --> if no extension</td></tr><tr><td align="center">mediaFileSeparator</td><td align="center">String</td><td align="center">&#x27;.&#x27;</td><td align="center">Separator that used to identify media file suffix</td></tr><tr><td align="center">allowedPlaylistSuffix</td><td align="center">Array</td><td align="center">[&#x27;m3u8&#x27;]</td><td align="center">Additional playlist file extension (eg. <!-- -->[&#x27;txt&#x27;]<!-- -->) that need to be intercepted</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_LWe7" id="hlsproxyversion-static"><strong><em>HlsProxy.version</em></strong> (static)<a href="#hlsproxyversion-static" class="hash-link" aria-label="Direct link to hlsproxyversion-static" title="Direct link to hlsproxyversion-static">​</a></h4><p>Get the version of HlsProxy.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="advanced-usage">Advanced Usage<a href="#advanced-usage" class="hash-link" aria-label="Direct link to Advanced Usage" title="Direct link to Advanced Usage">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="dynamic-m3u8-path-support">Dynamic M3u8 Path Support<a href="#dynamic-m3u8-path-support" class="hash-link" aria-label="Direct link to Dynamic M3u8 Path Support" title="Direct link to Dynamic M3u8 Path Support">​</a></h3><p>The channelId is an identifier used by our backend to match peers that are watching the same content. It is an optional parameter, and by default, we generate channelId from the content URL by removing any query parameters and protocol from it.
Some m3u8 urls play the same live/vod but have different paths on them. For example, example.com/clientId1/streamId.m3u8 and example.com/clientId2/streamId.m3u8. In this case, you can format a common channelId for them.</p><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token comment" style="color:rgb(106, 153, 85)">// Set token in p2pConfig before setting channelId! Connectivity with other platform should have the same token and channelId.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token literal-property property">p2pConfig</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token literal-property property">token</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token constant" style="color:rgb(100, 102, 149)">YOUR_TOKEN</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token function-variable function" style="color:rgb(220, 220, 170)">channelId</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(86, 156, 214)">function</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token parameter">m3u8Url</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        </span><span class="token keyword" style="color:rgb(86, 156, 214)">const</span><span class="token plain"> videoId </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">extractVideoIdFromUrl</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">m3u8Url</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain">   </span><span class="token comment" style="color:rgb(106, 153, 85)">// make a channelId by removing the different part which is defined by yourself</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        </span><span class="token keyword control-flow" style="color:rgb(86, 156, 214)">return</span><span class="token plain"> videoId</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token comment" style="color:rgb(106, 153, 85)">// channelId: VIDEO_ID       // for fixed channel id</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Let&#x27;s say your m3u8 is <a href="http://example.com/token123456/video1/playlist.m3u8" target="_blank" rel="noopener noreferrer">http://example.com/token123456/video1/playlist.m3u8</a>, in which token123456 is the token varied by users, video1 is the ID of the video.</p><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token literal-property property">p2pConfig</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token literal-property property">token</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token constant" style="color:rgb(100, 102, 149)">YOUR_TOKEN</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token function-variable function" style="color:rgb(220, 220, 170)">channelId</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(86, 156, 214)">function</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token parameter">m3u8Url</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        </span><span class="token keyword" style="color:rgb(86, 156, 214)">var</span><span class="token plain"> parts </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> m3u8Url</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">split</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;/&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        </span><span class="token keyword" style="color:rgb(86, 156, 214)">var</span><span class="token plain"> videoId </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> parts</span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token plain">parts</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token property-access">length</span><span class="token operator" style="color:rgb(212, 212, 212)">-</span><span class="token number" style="color:rgb(181, 206, 168)">2</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token operator" style="color:rgb(212, 212, 212)">+</span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;/&#x27;</span><span class="token operator" style="color:rgb(212, 212, 212)">+</span><span class="token plain">parts</span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token plain">parts</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token property-access">length</span><span class="token operator" style="color:rgb(212, 212, 212)">-</span><span class="token number" style="color:rgb(181, 206, 168)">1</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        </span><span class="token keyword control-flow" style="color:rgb(86, 156, 214)">return</span><span class="token plain"> videoId</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The following is an example of the client behaviour with this channelId configured:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token plain">&lt;!-- URL to be replaced --&gt;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">http://example.com/token123456/video1/playlist.m3u8</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">&lt;!-- Resulting channelId --&gt;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">video1/playlist.m3u8</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p>Interconnect with other platform should ensure that both have the same token and channelId.</p></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="allow-http-range-request">Allow Http Range Request<a href="#allow-http-range-request" class="hash-link" aria-label="Direct link to Allow Http Range Request" title="Direct link to Allow Http Range Request">​</a></h3><p>If http range request is activated, we are able to get chunks of data from peer and then complete the segments by getting other chunks from the CDN, thus, reducing your CDN bandwidth. To activate range requests, See <a href="/home/guides/optimization#allow-http-range-request">Allow Http Range Request</a>. Besides, the code below is needed：</p><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token literal-property property">p2pConfig</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token literal-property property">useHttpRange</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="bypass-user-specific-segments">Bypass User-specific Segments<a href="#bypass-user-specific-segments" class="hash-link" aria-label="Direct link to Bypass User-specific Segments" title="Direct link to Bypass User-specific Segments">​</a></h3><p>Sometimes we don&#x27;t want some ts files to be shared, such as user-specific ts generated by SSAI (Server Side Ad Insertion). At this time, we can use the segmentBypass function to bypass it:</p><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token literal-property property">p2pConfig</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token function-variable function" style="color:rgb(220, 220, 170)">segmentBypass</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token parameter">url</span><span class="token parameter punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token parameter"> tags</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(212, 212, 212)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        </span><span class="token keyword control-flow" style="color:rgb(86, 156, 214)">return</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">isSSAISegment</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">url</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="specify-the-preferred-point-in-the-video-to-start-playback">Specify the Preferred Point in the Video to Start Playback.<a href="#specify-the-preferred-point-in-the-video-to-start-playback" class="hash-link" aria-label="Direct link to Specify the Preferred Point in the Video to Start Playback." title="Direct link to Specify the Preferred Point in the Video to Start Playback.">​</a></h3><p>The SDK can insert the <a href="https://hlsbook.net/how-to-start-playing-a-video-at-a-specific-point-in-time/" target="_blank" rel="noopener noreferrer">EXT-X-START tag</a> to start playing a live stream from the start point in time of playlist, however, it may bring more delay to the stream:</p><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token comment" style="color:rgb(106, 153, 85)">// sw.js</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">self</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">importScripts</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;https://cdn.jsdelivr.net/npm/@swarmcloud/hls/hls-proxy.js&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(78, 201, 176)">HlsProxy</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token literal-property property">insertTimeOffsetTag</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token literal-property property">playlistTimeOffset</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(181, 206, 168)">0.01</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="how-to-support-other-url-suffix-in-swjs">How to Support Other Url Suffix in sw.js<a href="#how-to-support-other-url-suffix-in-swjs" class="hash-link" aria-label="Direct link to How to Support Other Url Suffix in sw.js" title="Direct link to How to Support Other Url Suffix in sw.js">​</a></h3><p>For sw.js, the default supported suffix of playlist is m3u8, the default supported suffix of media file is ts, mp4, m4s and fmp4, if other suffix type is needed, you can customize config:</p><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token plain">self</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">importScripts</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;https://cdn.jsdelivr.net/npm/@swarmcloud/hls/hls-proxy.js&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(78, 201, 176)">HlsProxy</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token literal-property property">allowedPlaylistSuffix</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;m3u8&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;html&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain">     </span><span class="token comment" style="color:rgb(106, 153, 85)">// if your playlist url is xxx.html</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token literal-property property">allowedMediaFiles</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;ts&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;mp4&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;m4s&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;fmp4&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;jpg&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token plain">  </span><span class="token comment" style="color:rgb(106, 153, 85)">// if your media file url is xxx.jpg</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token comment" style="color:rgb(106, 153, 85)">// allowedMediaFiles: [&#x27;*&#x27;]   // if no extension</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="use-your-own-stun-or-turn-server">Use Your Own STUN or TURN Server<a href="#use-your-own-stun-or-turn-server" class="hash-link" aria-label="Direct link to Use Your Own STUN or TURN Server" title="Direct link to Use Your Own STUN or TURN Server">​</a></h3><p>STUN (Session Traversal Utilities for NAT) allows clients to discover their public IP address and the type of NAT they are behind. This information is used to establish the media connection. Although there are default STUN servers in this SDK, you can replace them with your own via P2PConfig. TURN (Traversal Using Relays around NAT) server is used to relay traffic if direct connection fails. You can config your <a href="https://github.com/coturn/coturn" target="_blank" rel="noopener noreferrer">TURN</a> server in the same way as STUN.</p><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token literal-property property">p2pConfig</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token literal-property property">webRTCConfig</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">       </span><span class="token literal-property property">iceServers</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">           </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"> </span><span class="token literal-property property">urls</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token constant" style="color:rgb(100, 102, 149)">YOUR_STUN_OR_TURN_SERVER</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">       </span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="how-to-check-segment-validity">How to Check Segment Validity<a href="#how-to-check-segment-validity" class="hash-link" aria-label="Direct link to How to Check Segment Validity" title="Direct link to How to Check Segment Validity">​</a></h3><p>Sometimes we need to prevent a peer from sending a fake segment
(such as the bittorrent with a hash function).
CDNBye provides a validation callback with buffer of the
downloaded segment, developer should implement the actual
validator. For example, you can create a program that generates
hashes for the segments and stores them in a specific file or
injects into m3u8 playlist files the hashes information. If
the callback returns false, then the segment is not valid.</p><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token literal-property property">p2pConfig</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">   </span><span class="token function-variable function" style="color:rgb(220, 220, 170)">validateSegment</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(86, 156, 214)">function</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token parameter">segId</span><span class="token parameter punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token parameter"> buffer</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">       </span><span class="token keyword" style="color:rgb(86, 156, 214)">var</span><span class="token plain"> hash </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> hashFile</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">getHash</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">segId</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">       </span><span class="token keyword control-flow" style="color:rgb(86, 156, 214)">return</span><span class="token plain"> hash </span><span class="token operator" style="color:rgb(212, 212, 212)">===</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">md5</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">buffer</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">   </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/home/web-hls/players"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Player Integration</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/home/web-hls/CDN"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">CDN</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#p2penginehls-api" class="table-of-contents__link toc-highlight">P2pEngineHls API</a><ul><li><a href="#var-engine--new-p2penginehlsp2pconfig" class="table-of-contents__link toc-highlight"><strong><em>var engine = new P2pEngineHls(p2pConfig);</em></strong></a></li></ul></li><li><a href="#p2penginehls-properties-and-methods" class="table-of-contents__link toc-highlight">P2pEngineHls Properties and Methods</a><ul><li><a href="#p2penginehlsversion-static" class="table-of-contents__link toc-highlight"><strong><em>P2pEngineHls.version</em></strong> (static)</a></li><li><a href="#p2penginehlsissupported-static-method" class="table-of-contents__link toc-highlight"><strong><em>P2pEngineHls.isSupported()</em></strong> (static method)</a></li><li><a href="#enginerealengine" class="table-of-contents__link toc-highlight"><strong><em>engine.realEngine</em></strong></a></li><li><a href="#engineenginename" class="table-of-contents__link toc-highlight"><strong><em>engine.engineName</em></strong></a></li><li><a href="#engineenablep2p" class="table-of-contents__link toc-highlight"><strong><em>engine.enableP2P()</em></strong></a></li><li><a href="#enginedisablep2p" class="table-of-contents__link toc-highlight"><strong><em>engine.disableP2P()</em></strong></a></li><li><a href="#enginedestroy" class="table-of-contents__link toc-highlight"><strong><em>engine.destroy()</em></strong></a></li><li><a href="#engineregisterserviceworker" class="table-of-contents__link toc-highlight"><strong><em>engine.registerServiceWorker()</em></strong></a></li><li><a href="#engineunregisterserviceworker" class="table-of-contents__link toc-highlight"><strong><em>engine.unregisterServiceWorker()</em></strong></a></li></ul></li><li><a href="#p2penginehls-events" class="table-of-contents__link toc-highlight">P2pEngineHls Events</a><ul><li><a href="#engineonserverconnected-function-connected-" class="table-of-contents__link toc-highlight"><strong><em>engine.on(&#39;serverConnected&#39;, function (connected) {})</em></strong></a></li><li><a href="#engineonexception-function-e-" class="table-of-contents__link toc-highlight"><strong><em>engine.on(&#39;exception&#39;, function (e) {})</em></strong></a></li><li><a href="#get-p2p-information-from-p2pconfig" class="table-of-contents__link toc-highlight">Get p2p information from p2pConfig</a></li></ul></li><li><a href="#new-api-for-hlsjs" class="table-of-contents__link toc-highlight">New API for Hls.js</a><ul><li><a href="#hlsengineversion-static-method" class="table-of-contents__link toc-highlight"><strong><em>Hls.engineVersion</em></strong> (static method)</a></li><li><a href="#hlswebrtc_support-static-method" class="table-of-contents__link toc-highlight"><strong><em>Hls.WEBRTC_SUPPORT</em></strong> (static method)</a></li><li><a href="#hlsp2pengine-static-method" class="table-of-contents__link toc-highlight"><strong><em>Hls.P2pEngine</em></strong> (static method)</a></li></ul></li><li><a href="#create-hls-instance" class="table-of-contents__link toc-highlight">Create Hls Instance</a><ul><li><a href="#var-hls--new-hlsp2pconfig-opts" class="table-of-contents__link toc-highlight"><strong><em>var hls = new Hls({p2pConfig: opts});</em></strong></a></li><li><a href="#hlsp2pengine" class="table-of-contents__link toc-highlight"><strong><em>hls.p2pEngine</em></strong></a></li></ul></li><li><a href="#hlsproxy-api" class="table-of-contents__link toc-highlight">HlsProxy API</a></li><li><a href="#advanced-usage" class="table-of-contents__link toc-highlight">Advanced Usage</a><ul><li><a href="#dynamic-m3u8-path-support" class="table-of-contents__link toc-highlight">Dynamic M3u8 Path Support</a></li><li><a href="#allow-http-range-request" class="table-of-contents__link toc-highlight">Allow Http Range Request</a></li><li><a href="#bypass-user-specific-segments" class="table-of-contents__link toc-highlight">Bypass User-specific Segments</a></li><li><a href="#specify-the-preferred-point-in-the-video-to-start-playback" class="table-of-contents__link toc-highlight">Specify the Preferred Point in the Video to Start Playback.</a></li><li><a href="#how-to-support-other-url-suffix-in-swjs" class="table-of-contents__link toc-highlight">How to Support Other Url Suffix in sw.js</a></li><li><a href="#use-your-own-stun-or-turn-server" class="table-of-contents__link toc-highlight">Use Your Own STUN or TURN Server</a></li><li><a href="#how-to-check-segment-validity" class="table-of-contents__link toc-highlight">How to Check Segment Validity</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="bg-[#F4F7FF] dark:bg-[#191919]"><div class="mx-auto flex w-full max-w-[1080px] flex-col px-6 py-12"><div class="mb-12 flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between"></div><div class="flex flex-col gap-6 lg:flex-row lg:items-center lg:justify-between lg:gap-0"><div class="flex flex-wrap gap-2 text-sm text-gray-500"><a class="text-inherit hover:text-black hover:underline dark:hover:text-[#2160fd] dark:text-[#999]" href="/home/guides/contract">Terms of Service</a><a class="text-inherit hover:text-black hover:underline dark:hover:text-[#2160fd] dark:text-[#999]" href="/home/guides/privacy">Privacy Policy</a><span class="text-inherit dark:text-[#999]">© <!-- -->2026<!-- --> SwarmCloud Inc.</span></div><div class="flex items-center gap-4"></div></div></div></footer></div>
<script src="/home/assets/js/runtime~main.053b99cf.js"></script>
<script src="/home/assets/js/main.f99e750f.js"></script>
</body>
</html>